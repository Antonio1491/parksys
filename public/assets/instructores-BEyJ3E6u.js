import{c as Ve,a4 as d,l as _e,az as Be,u as Ge,ar as he,j as e,bh as je,bN as Ue,f as m,i as j,a5 as qe,g as w,h as y,U as Qe,al as ue,p as Ne,bO as ge,b as pe,a6 as Ke,V as Xe,y as V,z as He,B as c,a9 as Ye,I as _,J as B,K as G,Q as i,W as k,Y as F,_ as L,$ as T,a0 as r,D as Je,a7 as We,a8 as Ze,q as U,bP as es,bQ as ss,bR as as,bS as q,an as fe,bC as ve,bT as we,bU as ye,bV as be,bW as Ce,bX as Ee,bY as De,bZ as Se,b_ as Ae,b$ as Re,c0 as ke,aX as ts,R as ls,aY as is,a1 as rs}from"./index-BKCBrrzQ.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Ve("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Q=9,ds=()=>{const[p,Fe]=d.useState(""),[D,K]=d.useState("all"),[u,X]=d.useState("all"),[f,H]=d.useState("all"),[z,Y]=d.useState("grid"),[v,P]=d.useState(1),[a,J]=d.useState(null),[Le,S]=d.useState(!1),[Te,W]=d.useState(!1),[ze,Z]=d.useState(!1),[ee,se]=d.useState(""),[ae,te]=d.useState(""),{toast:b}=_e(),le=Be(),{data:N=[],isLoading:Pe,error:$e}=Ge({queryKey:["/api/evaluations/instructors"],retry:3}),A=he({mutationFn:async s=>{console.log("Datos enviados a la API:",s);const t=await fetch(`/api/evaluations/instructors/${s.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s.status,moderationNotes:s.moderationNotes})});if(!t.ok){const o=await t.text();throw new Error(`Error ${t.status}: ${o}`)}return t.json()},onSuccess:()=>{b({title:"Éxito",description:"La evaluación ha sido actualizada correctamente",variant:"default"}),le.invalidateQueries({queryKey:["/api/evaluations/instructors"]}),S(!1)},onError:s=>{console.error("Error actualizando evaluación:",s),b({title:"Error",description:"No se pudo actualizar la evaluación",variant:"destructive"})}}),Ie=he({mutationFn:async s=>{const t=await fetch(`/api/evaluations/instructors/${s}`,{method:"DELETE"});if(!t.ok)throw new Error(`Error ${t.status}`);return t.json()},onSuccess:()=>{b({title:"Éxito",description:"La evaluación ha sido eliminada correctamente",variant:"default"}),le.invalidateQueries({queryKey:["/api/evaluations/instructors"]})},onError:()=>{b({title:"Error",description:"No se pudo eliminar la evaluación",variant:"destructive"})}}),ie=s=>({exercise:"Ejercicio",recreation:"Recreación",family:"Familia",work:"Trabajo",education:"Educación",sports:"Deportes",relaxation:"Relajación",social:"Social",other:"Otro"})[s]||s,g=d.useMemo(()=>N.filter(s=>{var x,l,xe,me;const t=((x=s.instructorName)==null?void 0:x.toLowerCase().includes(p.toLowerCase()))||((l=s.evaluatorName)==null?void 0:l.toLowerCase().includes(p.toLowerCase()))||((xe=s.attendedActivity)==null?void 0:xe.toLowerCase().includes(p.toLowerCase()))||((me=s.comments)==null?void 0:me.toLowerCase().includes(p.toLowerCase())),o=D==="all"||s.status===D,E=u==="all"||u==="5"&&s.overallRating===5||u==="4"&&s.overallRating===4||u==="3"&&s.overallRating===3||u==="2"&&s.overallRating===2||u==="1"&&s.overallRating===1,h=f==="all"||f==="week"&&new Date(s.createdAt)>new Date(Date.now()-7*24*60*60*1e3)||f==="month"&&new Date(s.createdAt)>new Date(Date.now()-30*24*60*60*1e3)||f==="year"&&new Date(s.createdAt)>new Date(Date.now()-365*24*60*60*1e3);return t&&o&&E&&h}),[N,p,D,u,f]),C=Math.ceil(g.length/Q),$=(v-1)*Q,re=$+Q,ne=g.slice($,re),n=d.useMemo(()=>{const s=N.length,t=N.filter(x=>x.status==="approved").length,o=N.filter(x=>x.status==="pending").length,E=N.filter(x=>x.status==="rejected").length,h=s>0?(N.reduce((x,l)=>x+l.overallRating,0)/s).toFixed(1):"0.0";return{total:s,approved:t,pending:o,rejected:E,averageRating:h}},[N]),I=s=>{switch(s){case"approved":return e.jsx(ue,{className:"h-4 w-4 text-green-500"});case"rejected":return e.jsx(ge,{className:"h-4 w-4 text-red-500"});default:return e.jsx(Ne,{className:"h-4 w-4 text-yellow-500"})}},M=s=>{switch(s){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},R=s=>{switch(s){case"approved":return"Aprobada";case"rejected":return"Rechazada";default:return"Pendiente"}},O=s=>Array.from({length:5},(t,o)=>e.jsx(pe,{className:`h-4 w-4 ${o<s?"text-yellow-400 fill-current":"text-gray-300"}`},o)),ce=s=>{J(s),se(s.status),te(s.moderationNotes||""),S(!0)},de=s=>{J(s),W(!0)},Me=()=>{a&&A.mutate({id:a.id,status:ee,moderationNotes:ae})},oe=s=>{Ie.mutate(s)},Oe=()=>{const t=[["ID","Instructor","Evaluador","Email Evaluador","Ciudad Evaluador","Conocimiento","Claridad","Paciencia","Puntualidad","Calificación General","¿Recomendaría?","Comentarios","Actividad Asistida","Estado","Notas de Moderación","Fecha Evaluación","Fecha Creación"].join(","),...g.map(l=>[l.id,`"${l.instructorName||""}"`,`"${l.evaluatorName||""}"`,`"${l.evaluatorEmail||""}"`,`"${l.evaluatorCity||""}"`,l.knowledgeRating||"",l.clarityRating||"",l.patienceRating||"",l.punctualityRating||"",l.overallRating||"",l.wouldRecommend?"Sí":"No",`"${(l.comments||"").replace(/"/g,'""')}"`,`"${ie(l.attendedActivity||"")}"`,R(l.status),`"${(l.moderationNotes||"").replace(/"/g,'""')}"`,l.evaluationDate||"",new Date(l.createdAt).toLocaleDateString("es-ES")].join(","))].join(`
`),o="\uFEFF",E=new Blob([o+t],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a"),x=URL.createObjectURL(E);h.setAttribute("href",x),h.setAttribute("download",`evaluaciones_instructores_${new Date().toISOString().split("T")[0]}.csv`),h.style.visibility="hidden",document.body.appendChild(h),h.click(),document.body.removeChild(h),b({title:"Éxito",description:`Se exportaron ${g.length} evaluaciones a CSV`})};return $e?e.jsx(je,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ue,{className:"h-8 w-8 text-red-500"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Evaluaciones de Instructores"}),e.jsx("p",{className:"text-muted-foreground",children:"Error al cargar las evaluaciones"})]})]}),e.jsx(m,{children:e.jsx(j,{className:"flex items-center justify-center h-32",children:e.jsx("p",{className:"text-red-500",children:"Error al cargar los datos. Intente nuevamente."})})})]})}):e.jsxs(je,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Evaluaciones de Instructores"}),e.jsxs("p",{className:"text-muted-foreground",children:["Gestión y moderación de evaluaciones (",n.total," registros) - Sin filtros aplicados"]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[e.jsxs(m,{children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(y,{className:"text-sm font-medium",children:"Total"}),e.jsx(Qe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.total}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"evaluaciones"})]})]}),e.jsxs(m,{children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(y,{className:"text-sm font-medium",children:"Aprobadas"}),e.jsx(ue,{className:"h-4 w-4 text-green-500"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.approved}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.total>0?`${(n.approved/n.total*100).toFixed(1)}%`:"0%"," del total"]})]})]}),e.jsxs(m,{children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(y,{className:"text-sm font-medium",children:"Pendientes"}),e.jsx(Ne,{className:"h-4 w-4 text-yellow-500"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:n.pending}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.total>0?`${(n.pending/n.total*100).toFixed(1)}%`:"0%"," del total"]})]})]}),e.jsxs(m,{children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(y,{className:"text-sm font-medium",children:"Rechazadas"}),e.jsx(ge,{className:"h-4 w-4 text-red-500"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.rejected}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.total>0?`${(n.rejected/n.total*100).toFixed(1)}%`:"0%"," del total"]})]})]}),e.jsxs(m,{children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(y,{className:"text-sm font-medium",children:"Promedio"}),e.jsx(pe,{className:"h-4 w-4 text-yellow-500"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.averageRating}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"calificación"})]})]})]}),e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Xe,{placeholder:"Buscar por instructor, evaluador, actividad...",value:p,onChange:s=>Fe(s.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{open:ze,onOpenChange:Z,children:[e.jsx(He,{asChild:!0,children:e.jsxs(c,{variant:"outline",size:"sm",children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Filtros"]})}),e.jsxs(_,{className:"sm:max-w-md",children:[e.jsx(B,{children:e.jsx(G,{children:"Filtros Avanzados"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Estado"}),e.jsxs(k,{value:D,onValueChange:K,children:[e.jsx(F,{children:e.jsx(L,{})}),e.jsxs(T,{children:[e.jsx(r,{value:"all",children:"Todos los estados"}),e.jsx(r,{value:"pending",children:"Pendiente"}),e.jsx(r,{value:"approved",children:"Aprobada"}),e.jsx(r,{value:"rejected",children:"Rechazada"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Calificación"}),e.jsxs(k,{value:u,onValueChange:X,children:[e.jsx(F,{children:e.jsx(L,{})}),e.jsxs(T,{children:[e.jsx(r,{value:"all",children:"Todas las calificaciones"}),e.jsx(r,{value:"5",children:"5 estrellas"}),e.jsx(r,{value:"4",children:"4 estrellas"}),e.jsx(r,{value:"3",children:"3 estrellas"}),e.jsx(r,{value:"2",children:"2 estrellas"}),e.jsx(r,{value:"1",children:"1 estrella"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Fecha"}),e.jsxs(k,{value:f,onValueChange:H,children:[e.jsx(F,{children:e.jsx(L,{})}),e.jsxs(T,{children:[e.jsx(r,{value:"all",children:"Todas las fechas"}),e.jsx(r,{value:"week",children:"Última semana"}),e.jsx(r,{value:"month",children:"Último mes"}),e.jsx(r,{value:"year",children:"Último año"})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>{K("all"),X("all"),H("all")},children:"Limpiar filtros"}),e.jsx(c,{size:"sm",onClick:()=>Z(!1),children:"Aplicar"})]})]})]})]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:Oe,children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]}),e.jsxs("div",{className:"flex border rounded-lg",children:[e.jsx(c,{variant:z==="grid"?"default":"ghost",size:"sm",onClick:()=>Y("grid"),className:"rounded-r-none",children:e.jsx(We,{className:"h-4 w-4"})}),e.jsx(c,{variant:z==="list"?"default":"ghost",size:"sm",onClick:()=>Y("list"),className:"rounded-l-none",children:e.jsx(Ze,{className:"h-4 w-4"})})]})]})]})}),Pe?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((s,t)=>e.jsx(m,{className:"animate-pulse",children:e.jsxs(j,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded"})]})},t))}):g.length===0?e.jsx(m,{children:e.jsx(j,{className:"flex items-center justify-center h-32",children:e.jsx("p",{className:"text-muted-foreground",children:"No se encontraron evaluaciones con los filtros aplicados"})})}):z==="grid"?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:ne.map(s=>e.jsxs(m,{className:"relative",children:[e.jsx(w,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(y,{className:"text-lg",children:s.instructorName}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Evaluado por: ",s.evaluatorName]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(U,{className:M(s.status),children:[I(s.status),e.jsx("span",{className:"ml-1",children:R(s.status)})]}),e.jsxs(es,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(c,{variant:"ghost",size:"sm",children:e.jsx(ns,{className:"h-4 w-4"})})}),e.jsxs(as,{children:[e.jsxs(q,{onClick:()=>de(s),children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Ver detalles"]}),e.jsxs(q,{onClick:()=>ce(s),children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Editar"]}),e.jsxs(we,{children:[e.jsx(ye,{asChild:!0,children:e.jsxs(q,{onSelect:t=>t.preventDefault(),children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Eliminar"]})}),e.jsxs(Ce,{children:[e.jsxs(Ee,{children:[e.jsx(De,{children:"¿Eliminar evaluación?"}),e.jsx(Se,{children:"Esta acción no se puede deshacer. La evaluación será eliminada permanentemente."})]}),e.jsxs(Ae,{children:[e.jsx(Re,{children:"Cancelar"}),e.jsx(ke,{onClick:()=>oe(s.id),children:"Eliminar"})]})]})]})]})]})]})]})}),e.jsxs(j,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center",children:O(s.overallRating||0)}),e.jsx("span",{className:"text-sm font-medium",children:s.overallRating?`${s.overallRating}/5`:"Sin calificar"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Conocimiento:"}),e.jsxs("span",{className:"font-medium",children:[s.knowledgeRating||"N/A","/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Paciencia:"}),e.jsxs("span",{className:"font-medium",children:[s.patienceRating||"N/A","/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Claridad:"}),e.jsxs("span",{className:"font-medium",children:[s.clarityRating||"N/A","/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Puntualidad:"}),e.jsxs("span",{className:"font-medium",children:[s.punctualityRating||"N/A","/5"]})]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Actividad: "}),e.jsx("span",{className:"font-medium",children:s.attendedActivity?s.attendedActivity:"No especificada"})]}),s.comments&&e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"text-muted-foreground mb-1",children:"Comentarios:"}),e.jsx("p",{className:"text-xs bg-gray-50 p-2 rounded",children:s.comments.length>100?`${s.comments.substring(0,100)}...`:s.comments})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:["ID: ",s.id]}),e.jsx("span",{children:new Date(s.createdAt).toLocaleDateString("es-ES")})]})]})]},s.id))}):e.jsx(m,{children:e.jsx(j,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b",children:e.jsxs("tr",{className:"text-left",children:[e.jsx("th",{className:"p-4 font-medium",children:"Instructor"}),e.jsx("th",{className:"p-4 font-medium",children:"Evaluador"}),e.jsx("th",{className:"p-4 font-medium",children:"Calificación"}),e.jsx("th",{className:"p-4 font-medium",children:"Actividad"}),e.jsx("th",{className:"p-4 font-medium",children:"Estado"}),e.jsx("th",{className:"p-4 font-medium",children:"Fecha"}),e.jsx("th",{className:"p-4 font-medium",children:"Acciones"})]})}),e.jsx("tbody",{children:ne.map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.instructorName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",s.id]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.evaluatorName}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.evaluatorEmail})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex",children:O(s.overallRating||0)}),e.jsx("span",{className:"text-sm font-medium",children:s.overallRating?`${s.overallRating}/5`:"Sin calificar"})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-sm",children:s.attendedActivity?s.attendedActivity:"No especificada"})}),e.jsx("td",{className:"p-4",children:e.jsxs(U,{className:M(s.status),children:[I(s.status),e.jsx("span",{className:"ml-1",children:R(s.status)})]})}),e.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:new Date(s.createdAt).toLocaleDateString("es-ES")}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>de(s),children:e.jsx(fe,{className:"h-4 w-4"})}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>ce(s),children:e.jsx(ve,{className:"h-4 w-4"})}),e.jsxs(we,{children:[e.jsx(ye,{asChild:!0,children:e.jsx(c,{variant:"outline",size:"sm",children:e.jsx(be,{className:"h-4 w-4"})})}),e.jsxs(Ce,{children:[e.jsxs(Ee,{children:[e.jsx(De,{children:"¿Eliminar evaluación?"}),e.jsx(Se,{children:"Esta acción no se puede deshacer. La evaluación será eliminada permanentemente."})]}),e.jsxs(Ae,{children:[e.jsx(Re,{children:"Cancelar"}),e.jsx(ke,{onClick:()=>oe(s.id),children:"Eliminar"})]})]})]})]})})]},s.id))})]})})})}),C>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando ",$+1," a ",Math.min(re,g.length)," de ",g.length," evaluaciones"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>P(s=>Math.max(1,s-1)),disabled:v===1,children:[e.jsx(ts,{className:"h-4 w-4 mr-2"}),"Anterior"]}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:C},(s,t)=>t+1).filter(s=>s===1||s===C||s>=v-2&&s<=v+2).map((s,t,o)=>e.jsxs(ls.Fragment,{children:[t>0&&o[t-1]<s-1&&e.jsx("span",{className:"px-2",children:"..."}),e.jsx(c,{variant:v===s?"default":"outline",size:"sm",onClick:()=>P(s),children:s})]},s))}),e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>P(s=>Math.min(C,s+1)),disabled:v===C,children:["Siguiente",e.jsx(is,{className:"h-4 w-4 ml-2"})]})]})]})]}),e.jsx(V,{open:Te,onOpenChange:W,children:e.jsxs(_,{className:"sm:max-w-2xl",children:[e.jsx(B,{children:e.jsx(G,{children:"Detalles de Evaluación"})}),a&&e.jsx("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium text-muted-foreground",children:"Instructor"}),e.jsx("p",{className:"font-medium",children:a.instructorName})]}),e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium text-muted-foreground",children:"Estado"}),e.jsx("div",{className:"flex items-center space-x-2 mt-1",children:e.jsxs(U,{className:M(a.status),children:[I(a.status),e.jsx("span",{className:"ml-1",children:R(a.status)})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium text-muted-foreground",children:"Evaluador"}),e.jsx("p",{className:"font-medium",children:a.evaluatorName})]}),e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsx("p",{children:a.evaluatorEmail||"No proporcionado"})]})]}),e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium text-muted-foreground",children:"Calificación General"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("div",{className:"flex",children:O(a.overallRating)}),e.jsxs("span",{className:"text-sm font-medium",children:[a.overallRating,"/5"]})]})]}),e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium text-muted-foreground",children:"Calificaciones Detalladas"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Conocimiento:"}),e.jsxs("span",{className:"font-medium",children:[a.knowledgeRating,"/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Paciencia:"}),e.jsxs("span",{className:"font-medium",children:[a.patienceRating,"/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Claridad:"}),e.jsxs("span",{className:"font-medium",children:[a.clarityRating,"/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Puntualidad:"}),e.jsxs("span",{className:"font-medium",children:[a.punctualityRating,"/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"¿Recomendaría?:"}),e.jsx("span",{className:"font-medium",children:a.wouldRecommend?"Sí":"No"})]})]})]}),a.attendedActivity&&e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium text-muted-foreground",children:"Actividad Asistida"}),e.jsx("p",{children:ie(a.attendedActivity)})]}),a.comments&&e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium text-muted-foreground",children:"Comentarios"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:a.comments})]}),a.moderationNotes&&e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium text-muted-foreground",children:"Notas de Moderación"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:a.moderationNotes})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium text-muted-foreground",children:"Fecha de Evaluación"}),e.jsx("p",{children:a.evaluationDate?new Date(a.evaluationDate).toLocaleDateString("es-ES"):"No especificada"})]}),e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium text-muted-foreground",children:"Fecha de Creación"}),e.jsx("p",{children:new Date(a.createdAt).toLocaleDateString("es-ES")})]})]})]})})]})}),e.jsx(V,{open:Le,onOpenChange:S,children:e.jsxs(_,{className:"sm:max-w-md",children:[e.jsx(B,{children:e.jsx(G,{children:"Moderar Evaluación"})}),a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(i,{className:"text-sm font-medium",children:["Instructor: ",a.instructorName]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Evaluado por: ",a.evaluatorName]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Estado"}),e.jsxs(k,{value:ee,onValueChange:se,children:[e.jsx(F,{children:e.jsx(L,{})}),e.jsxs(T,{children:[e.jsx(r,{value:"pending",children:"Pendiente"}),e.jsx(r,{value:"approved",children:"Aprobada"}),e.jsx(r,{value:"rejected",children:"Rechazada"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Notas de moderación"}),e.jsx(rs,{value:ae,onChange:s=>te(s.target.value),placeholder:"Agregar notas sobre la moderación...",rows:3})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(c,{variant:"outline",onClick:()=>S(!1),disabled:A.isPending,children:"Cancelar"}),e.jsx(c,{onClick:Me,disabled:A.isPending,children:A.isPending?"Guardando...":"Guardar cambios"})]})]})]})})]})};export{ds as default};

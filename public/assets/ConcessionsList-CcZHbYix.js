import{a4 as m,u as S,j as e,t as k,M as f,m as L,U as F,a6 as R,V as K,W as P,Y as T,_ as M,$ as q,a0 as l,B as c,X as U,a as A,L as $,P as I,n as z,af as G,r as _}from"./index-BKCBrrzQ.js";import{P as O}from"./PublicLayout-Cks6Enyp.js";const H="/images/concessions-hero.jpg";function W(){const[x,v]=m.useState(""),[o,b]=m.useState("all"),[h,y]=m.useState("all"),[t,d]=m.useState(1),g=9,{data:j,isLoading:V}=S({queryKey:["/api/active-concessions"]}),{data:n}=S({queryKey:["/api/parks"]}),r=Array.isArray(j)?j:[],u=Array.isArray(n)?n:(n==null?void 0:n.data)||[];console.log(" CONCESSIONS DEBUG:",{concessionsLength:r.length,concessionsResponse:j,firstConcession:r[0],parksLength:u.length});const p=r.filter(s=>{var C;if(s.status!=="activa")return!1;const N=(s.name||"").toLowerCase().includes(x.toLowerCase())||(s.concessionTypeName||"").toLowerCase().includes(x.toLowerCase())||(s.specific_location||"").toLowerCase().includes(x.toLowerCase()),a=o==="all"||(s.concessionTypeName||"").includes(o),B=h==="all"||((C=s.park_id)==null?void 0:C.toString())===h;return N&&a&&B}),i=Math.ceil(p.length/g),w=(t-1)*g,E=p.slice(w,w+g),D=()=>{v(""),b("all"),y("all"),d(1)};return V?e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3 mb-8"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(s=>e.jsx("div",{className:"h-64 bg-gray-300 rounded-lg"},s))})]})})}):e.jsx(O,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"relative text-white py-24",style:{backgroundImage:`url(${H})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0 bg-black/50"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[e.jsx(k,{className:"h-10 w-10"}),e.jsx("h1",{className:"font-guttery text-4xl md:text-5xl font-normal",children:"Conoce"})]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Servicios Comerciales"}),e.jsx("p",{className:"text-xl md:text-2xl text-green-100 max-w-3xl mx-auto mb-8",children:"Descubre todos los servicios comerciales disponibles en nuestros parques urbanos"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-green-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5"}),e.jsxs("span",{children:[u.length," parques"]})]}),e.jsx(L,{orientation:"vertical",className:"h-6 bg-green-300"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),e.jsxs("span",{children:[r.length," concesiones activas"]})]}),e.jsx(L,{orientation:"vertical",className:"h-6 bg-green-300"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),e.jsxs("span",{children:[Array.from(new Set(r.map(s=>s.concessionaire_id))).length," concesionarios"]})]})]})]})})]}),e.jsx("div",{className:"py-6",style:{backgroundColor:"#19633c"},children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"rounded-lg shadow-sm p-4",style:{backgroundColor:"#19633c"},children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-600 h-4 w-4"}),e.jsx(K,{placeholder:"Buscar concesiones...",value:x,onChange:s=>v(s.target.value),className:"pl-10 bg-white/90 focus:border-green-400 focus:ring-green-400 placeholder-gray-600"})]}),e.jsxs(P,{value:o,onValueChange:b,children:[e.jsx(T,{className:"bg-white/90 text-gray-800",children:e.jsx(M,{placeholder:"Tipo de concesi贸n"})}),e.jsxs(q,{children:[e.jsx(l,{value:"all",children:"Todos los tipos"}),e.jsx(l,{value:"Venta de alimentos",children:"Venta de alimentos"}),e.jsx(l,{value:"Renta de bicicletas",children:"Renta de bicicletas"}),e.jsx(l,{value:"Kiosco de informaci贸n",children:"Kiosco de informaci贸n"}),e.jsx(l,{value:"Comercial",children:"Comercial"})]})]}),e.jsxs(P,{value:h,onValueChange:y,children:[e.jsx(T,{className:"bg-white/90 text-gray-800",children:e.jsx(M,{placeholder:"Parque"})}),e.jsxs(q,{children:[e.jsx(l,{value:"all",children:"Todos los parques"}),u.map(s=>e.jsx(l,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-white",children:["Mostrando ",p.length," de ",r.length," concesiones"]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:D,className:"bg-white text-gray-900 border-white hover:bg-gray-100",children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),"Limpiar filtros"]})]})]})})}),e.jsx("div",{className:"py-8"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"space-y-4 mb-8",children:E.map(s=>e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex flex-col md:flex-row h-auto md:h-48",children:[e.jsxs("div",{className:"w-full md:w-80 h-48 md:h-full bg-gradient-to-br from-[#00a587] via-[#067f5f] to-[#8498a5] relative overflow-hidden flex-shrink-0",children:[s.primaryImage?e.jsx("img",{src:s.primaryImage,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full text-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx(A,{className:"w-12 h-12 mx-auto mb-2 opacity-80"}),e.jsx("p",{className:"text-sm font-medium opacity-90",children:s.concessionTypeName})]})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="activa"||s.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.status})})]}),e.jsx("div",{className:"flex-1 p-6 flex flex-col justify-between min-h-0",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between mb-3",children:[e.jsxs("div",{className:"flex-1 mb-3 lg:mb-0",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:s.name}),e.jsx("p",{className:"text-sm text-[#00a587] font-medium",children:s.concessionTypeName})]}),e.jsx("div",{className:"lg:ml-6",children:e.jsx($,{href:`/concession/${s.id}`,children:e.jsx(c,{className:"bg-[#00a587] text-white hover:bg-[#067f5f] whitespace-nowrap",children:"Ver detalles"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"w-4 h-4 mr-2 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:s.specific_location})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"w-4 h-4 mr-2 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:s.parkName})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{className:"w-4 h-4 mr-2 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:s.emergency_phone})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 mr-2 text-gray-400 flex-shrink-0"}),e.jsxs("span",{className:"text-xs",children:[new Date(s.start_date).toLocaleDateString("es-ES")," - ",new Date(s.end_date).toLocaleDateString("es-ES")]})]})]})]})})]})},s.id))}),i>1&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[e.jsx(c,{variant:"outline",onClick:()=>d(s=>Math.max(s-1,1)),disabled:t===1,children:"Anterior"}),[...Array(Math.min(5,i))].map((s,N)=>{const a=Math.max(1,Math.min(i-4,t-2))+N;return a>i?null:e.jsx(c,{variant:t===a?"default":"outline",onClick:()=>d(a),className:t===a?"bg-[#00a587] text-white":"",children:a},a)}),e.jsx(c,{variant:"outline",onClick:()=>d(s=>Math.min(s+1,i)),disabled:t===i,children:"Siguiente"})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"max-w-2xl w-full",children:e.jsx(G,{spaceId:"35",position:"banner",pageType:"concessions"})})})]}),e.jsx("section",{className:"bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"驴Necesitas m谩s informaci贸n?"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Nuestro equipo est谩 aqu铆 para ayudarte"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#51a19f"},children:e.jsx(I,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Tel茅fono"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"(33) 1234-5678"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Lun-Vie 8:00-16:00"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#51a19f"},children:e.jsx(_,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Correo"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"concesiones@parques.gdl.gob.mx"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Respuesta en 24 horas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#51a19f"},children:e.jsx(f,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ubicaci贸n"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Av. Hidalgo 400, Centro"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Guadalajara, Jalisco"})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs(c,{size:"lg",className:"bg-green-600 hover:bg-green-700 px-8 py-3",children:[e.jsx(_,{className:"h-5 w-5 mr-2"}),"Enviar mensaje"]})})]})})]})})}export{W as default};

import{aH as G,a4 as d,j as e,an as $,W as D,Y as F,_ as T,$ as I,a0 as U,e as m,f as q,g as _,h as B,i as V,B as c,cZ as Y,aY as W,L as b,b4 as Z,ce as j,U as r,eP as f,b2 as J,aj as Q,a$ as v,n as X,as as l,bi as K,a2 as C,cx as ee}from"./index-BKCBrrzQ.js";import{a as N}from"./RoleBadge-DcdBd9gq.js";const w={Configuración:{icon:j,color:"text-gray-600",bgColor:"bg-gray-50",permissions:["read","write","admin"],submodules:[{name:"Usuarios",path:"/admin-roles/users",icon:r},{name:"Configuración General",path:"/admin-roles/config",icon:j}]},Gestión:{icon:f,color:"text-blue-600",bgColor:"bg-blue-50",permissions:["read","write","admin"],submodules:[{name:"Parques",path:"/admin-roles/parks",icon:J},{name:"Actividades",path:"/admin-roles/activities",icon:Q},{name:"Voluntarios",path:"/admin-roles/volunteers",icon:r}]},Operaciones:{icon:v,color:"text-green-600",bgColor:"bg-green-50",permissions:["read","write","admin"],submodules:[{name:"Eventos",path:"/admin-roles/events",icon:X},{name:"Concesiones",path:"/admin-roles/concessions",icon:v}]},Finanzas:{icon:l,color:"text-purple-600",bgColor:"bg-purple-50",permissions:["read","write","admin"],submodules:[{name:"Presupuestos",path:"/admin-roles/budgets",icon:K},{name:"Patrocinios",path:"/admin-roles/sponsors",icon:l}]},Marketing:{icon:C,color:"text-orange-600",bgColor:"bg-orange-50",permissions:["read","write","admin"],submodules:[{name:"Comunicaciones",path:"/admin-roles/communications",icon:C},{name:"Publicidad",path:"/admin-roles/advertising",icon:ee}]},"Recursos Humanos":{icon:r,color:"text-teal-600",bgColor:"bg-teal-50",permissions:["read","write","admin"],submodules:[{name:"Empleados",path:"/admin-roles/employees",icon:r},{name:"Nómina",path:"/admin-roles/payroll",icon:l}]},Seguridad:{icon:m,color:"text-red-600",bgColor:"bg-red-50",permissions:["read","write","admin"],submodules:[{name:"Roles",path:"/admin-roles/roles",icon:m},{name:"Matriz de Permisos",path:"/admin-roles/permissions/matrix",icon:f},{name:"Usuarios del Sistema",path:"/admin-roles/users",icon:r}]}},S=[{id:"super-admin",title:"Super Admin",level:1,permissions:["admin"]},{id:"director-general",title:"Director General",level:2,permissions:["admin","write","read"]},{id:"coordinador-parques",title:"Coordinador de Parques",level:3,permissions:["write","read"]},{id:"supervisor-operaciones",title:"Supervisor de Operaciones",level:4,permissions:["write","read"]},{id:"especialista-tecnico",title:"Especialista Técnico",level:5,permissions:["write","read"]},{id:"asistente-administrativo",title:"Asistente Administrativo",level:6,permissions:["read"]},{id:"consultor-auditor",title:"Consultor Auditor",level:7,permissions:["read"]}],se={"super-admin":{Configuración:"admin",Gestión:"admin",Operaciones:"admin",Finanzas:"admin",Marketing:"admin","Recursos Humanos":"admin",Seguridad:"admin"},"director-general":{Configuración:"admin",Gestión:"admin",Operaciones:"admin",Finanzas:"admin",Marketing:"write","Recursos Humanos":"admin",Seguridad:"write"},"coordinador-parques":{Configuración:"read",Gestión:"admin",Operaciones:"write",Finanzas:"read",Marketing:"read","Recursos Humanos":"read",Seguridad:"none"},"supervisor-operaciones":{Configuración:"read",Gestión:"write",Operaciones:"admin",Finanzas:"read",Marketing:"read","Recursos Humanos":"read",Seguridad:"none"},"especialista-tecnico":{Configuración:"none",Gestión:"write",Operaciones:"write",Finanzas:"none",Marketing:"none","Recursos Humanos":"none",Seguridad:"none"},"asistente-administrativo":{Configuración:"none",Gestión:"read",Operaciones:"read",Finanzas:"read",Marketing:"read","Recursos Humanos":"read",Seguridad:"none"},"consultor-auditor":{Configuración:"read",Gestión:"read",Operaciones:"read",Finanzas:"read",Marketing:"read","Recursos Humanos":"read",Seguridad:"read"}};function ne({children:R,title:u,subtitle:p}){var g;const[t]=G(),[y,M]=d.useState([]),[o,E]=d.useState("super-admin");d.useState(!1);const O=s=>se[s]||{},A=(s,a)=>{const i=O(a);return i[s]&&i[s]!=="none"},z=s=>{M(a=>a.includes(s)?a.filter(i=>i!==s):[...a,s])},k=()=>{if(u)return u;for(const[s,a]of Object.entries(w)){if(t===`/admin-roles/dashboard/${s.toLowerCase().replace(" ","-")}`)return`Dashboard - ${s}`;for(const i of a.submodules)if(t===i.path)return i.name}return"Sistema de Roles"};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:k()}),p&&e.jsx("p",{className:"text-gray-600 mt-1",children:p})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Vista previa:"})]}),e.jsxs(D,{value:o,onValueChange:E,children:[e.jsx(F,{className:"w-64",children:e.jsx(T,{})}),e.jsx(I,{children:S.map(s=>e.jsx(U,{value:s.id,children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(N,{roleId:s.id,size:"sm"})})},s.id))})]})]})]})}),e.jsxs("div",{className:"flex",children:[e.jsx("aside",{className:"w-64 bg-white border-r border-gray-200 min-h-screen",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(m,{className:"h-6 w-6 text-blue-600"}),e.jsx("span",{className:"font-semibold",children:"ParkSys Admin"})]}),e.jsxs(q,{className:"mb-6",children:[e.jsx(_,{className:"pb-3",children:e.jsx(B,{className:"text-sm",children:"Rol Actual"})}),e.jsxs(V,{className:"pt-0",children:[e.jsx(N,{roleId:o}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Nivel ",(g=S.find(s=>s.id===o))==null?void 0:g.level]})]})]}),e.jsx("nav",{className:"space-y-2",children:Object.entries(w).map(([s,a])=>{const i=A(s,o),x=y.includes(s),P=a.icon,h=t===`/admin-roles/dashboard/${s.toLowerCase().replace(/\s+/g,"-")}`;return i?e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs(c,{variant:"ghost",size:"sm",onClick:()=>z(s),className:`flex-1 justify-start gap-2 ${h?"bg-gray-100":""}`,children:[e.jsx(P,{className:`h-4 w-4 ${a.color}`}),e.jsx("span",{className:"text-sm",children:s}),x?e.jsx(Y,{className:"h-3 w-3 ml-auto"}):e.jsx(W,{className:"h-3 w-3 ml-auto"})]})}),x&&e.jsxs("div",{className:"ml-4 space-y-1",children:[e.jsx(b,{href:`/admin-roles/dashboard/${s.toLowerCase().replace(/\s+/g,"-")}`,children:e.jsxs(c,{variant:"ghost",size:"sm",className:`w-full justify-start gap-2 text-xs ${h?"bg-blue-50 text-blue-700":""}`,children:[e.jsx(Z,{className:"h-3 w-3"}),"Dashboard"]})}),a.submodules.map(n=>{const H=n.icon,L=t===n.path;return e.jsx(b,{href:n.path,children:e.jsxs(c,{variant:"ghost",size:"sm",className:`w-full justify-start gap-2 text-xs ${L?"bg-blue-50 text-blue-700":""}`,children:[e.jsx(H,{className:"h-3 w-3"}),n.name]})},n.path)})]})]},s):null})})]})}),e.jsx("main",{className:"flex-1 p-6",children:R})]})]})}export{ne as D};

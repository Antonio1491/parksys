import{a4 as b,u as t,j as e,bh as v,ak as x,bj as S,bi as m,W as A,Y as I,_ as K,$ as T,a0 as h,f as i,i as o,g,h as u,aj as $,ad as j,bc as N,by as R,bp as q,bq as L,br as B,bg as y,bx as M,bz as f,bd as k,be as G,bf as P}from"./index-BKCBrrzQ.js";import{T as C}from"./trending-down-CPeGf22o.js";import{A as Y}from"./arrow-up-right-DxfT3JuB.js";import{A as O}from"./arrow-down-right-idafaPP5.js";const H=()=>{const[p,w]=b.useState(2025);b.useState("monthly");const{data:V,isLoading:D}=t({queryKey:["/api/financial-dashboard/3"]});if(t({queryKey:["/api/cash-flow/3",p]}),t({queryKey:["/api/actual-incomes"]}),t({queryKey:["/api/actual-expenses"]}),t({queryKey:["/api/income-categories"]}),t({queryKey:["/api/expense-categories"]}),D)return e.jsx(v,{children:e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Cargando dashboard financiero..."})]})});const r=s=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(s),n={totalIncome:245e4,totalExpenses:189e4,netBalance:56e4,budgetExecuted:78.5},E=[{title:"Ingresos Totales",value:r(n.totalIncome),change:"+12.5%",trend:"up",icon:x,color:"text-green-600",bgColor:"bg-green-100"},{title:"Egresos Totales",value:r(n.totalExpenses),change:"+8.2%",trend:"up",icon:C,color:"text-red-600",bgColor:"bg-red-100"},{title:"Balance Neto",value:r(n.netBalance),change:"+18.7%",trend:"up",icon:S,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Presupuesto Ejecutado",value:`${n.budgetExecuted}%`,change:"+5.2%",trend:"up",icon:m,color:"text-purple-600",bgColor:"bg-purple-100"}],F=[{month:"Ene",ingresos:145e3,egresos:98e3,anterior:12e4},{month:"Feb",ingresos:167e3,egresos:112e3,anterior:135e3},{month:"Mar",ingresos:189e3,egresos:125e3,anterior:155e3},{month:"Abr",ingresos:203e3,egresos:134e3,anterior:178e3},{month:"May",ingresos:225e3,egresos:145e3,anterior:195e3},{month:"Jun",ingresos:248e3,egresos:156e3,anterior:21e4}],c=[{name:"Cuotas",value:35,amount:857500},{name:"Eventos",value:25,amount:612500},{name:"Concesiones",value:20,amount:49e4},{name:"Donaciones",value:15,amount:367500},{name:"Otros",value:5,amount:122500}],l=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];return e.jsx(v,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"py-8 px-4 -mx-4 -mt-6 flex items-center justify-between",style:{backgroundColor:"#14b8a6"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{className:"h-8 w-8 text-white"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white font-poppins",children:"Dashboard Financiero"}),e.jsx("p",{className:"text-base font-normal text-white font-poppins",children:"Gestión integral de finanzas del parque"})]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(A,{value:p.toString(),onValueChange:s=>w(parseInt(s)),children:[e.jsx(I,{className:"w-32 bg-white text-gray-900",children:e.jsx(K,{})}),e.jsxs(T,{children:[e.jsx(h,{value:"2023",children:"2023"}),e.jsx(h,{value:"2024",children:"2024"}),e.jsx(h,{value:"2025",children:"2025"})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:E.map((s,a)=>{const d=s.icon;return e.jsx(i,{className:"relative overflow-hidden",children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:s.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.value}),e.jsxs("div",{className:"flex items-center space-x-1",children:[s.trend==="up"?e.jsx(Y,{className:"h-4 w-4 text-green-500"}):e.jsx(O,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:`text-sm font-medium ${s.trend==="up"?"text-green-600":"text-red-600"}`,children:s.change})]})]}),e.jsx("div",{className:`p-3 rounded-lg ${s.bgColor}`,children:e.jsx(d,{className:`h-6 w-6 ${s.color}`})})]})})},a)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsxs(g,{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5"}),"Tendencia Mensual"]}),e.jsx(j,{children:"Comparación de ingresos vs egresos por mes"})]}),e.jsx(o,{children:e.jsx("div",{className:"h-80",children:e.jsx(N,{width:"100%",height:"100%",children:e.jsxs(R,{data:F,children:[e.jsx(q,{strokeDasharray:"3 3"}),e.jsx(L,{dataKey:"month"}),e.jsx(B,{tickFormatter:s=>r(s)}),e.jsx(y,{labelStyle:{color:"#374151"},formatter:s=>[r(s),""]}),e.jsx(M,{}),e.jsx(f,{type:"monotone",dataKey:"ingresos",stroke:"#10B981",strokeWidth:3,name:"Ingresos"}),e.jsx(f,{type:"monotone",dataKey:"egresos",stroke:"#EF4444",strokeWidth:3,name:"Egresos"})]})})})})]}),e.jsxs(i,{children:[e.jsxs(g,{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-5 w-5"}),"Distribución de Ingresos"]}),e.jsx(j,{children:"Participación por categoría de ingresos"})]}),e.jsxs(o,{children:[e.jsx("div",{className:"h-80",children:e.jsx(N,{width:"100%",height:"100%",children:e.jsxs(k,{children:[e.jsx(G,{data:c,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,value:a})=>`${s}: ${a}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:c.map((s,a)=>e.jsx(P,{fill:l[a%l.length]},`cell-${a}`))}),e.jsx(y,{formatter:(s,a,d)=>[`${s}% (${r(d.payload.amount)})`,a]})]})})}),e.jsx("div",{className:"mt-4 space-y-2",children:c.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l[a%l.length]}}),e.jsx("span",{className:"text-gray-600",children:s.name})]}),e.jsx("span",{className:"font-medium",children:r(s.amount)})]},a))})]})]})]}),e.jsxs(i,{children:[e.jsxs(g,{children:[e.jsx(u,{children:"Acciones Rápidas"}),e.jsx(j,{children:"Funciones principales del módulo financiero"})]}),e.jsx(o,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Gestionar Ingresos"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Registrar nuevos ingresos"})]})]})}),e.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Gestionar Egresos"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Registrar nuevos gastos"})]})]})}),e.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Flujo de Efectivo"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ver análisis detallado"})]})]})})]})})]})]})})};export{H as default};

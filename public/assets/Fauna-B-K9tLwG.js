import{a4 as j,u as A,j as e,G as B,e as u,H as L,a6 as T,V as z,W as y,Y as w,_ as C,$ as S,a0 as t,B as i,a7 as _,a8 as G,af as I,P as R,r as P,M as U,f as k,i as $,q as r,b1 as D,p as H,L as E,an as F,b2 as J}from"./index-BKCBrrzQ.js";import{P as K}from"./PublicLayout-Cks6Enyp.js";import{B as f}from"./bird-B42mMTuO.js";import{R as O,F as M}from"./rabbit-CtISyuR1.js";import{B as Q}from"./bug-p_kDnxJL.js";const W={aves:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200",icon:f},mamiferos:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200",icon:O},reptiles:{bg:"bg-orange-100",text:"text-orange-800",border:"border-orange-200",icon:J},anfibios:{bg:"bg-teal-100",text:"text-teal-800",border:"border-teal-200",icon:M},insectos:{bg:"bg-purple-100",text:"text-purple-800",border:"border-purple-200",icon:Q},peces:{bg:"bg-cyan-100",text:"text-cyan-800",border:"border-cyan-200",icon:M}},Y={estable:{bg:"bg-green-100",text:"text-green-800",label:"Estable"},vulnerable:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Vulnerable"},en_peligro:{bg:"bg-orange-100",text:"text-orange-800",label:"En Peligro"},critico:{bg:"bg-red-100",text:"text-red-800",label:"Crítico"},extinto_silvestre:{bg:"bg-gray-100",text:"text-gray-800",label:"Extinto en Silvestre"}};function X({species:s,viewMode:N}){const l=W[s.category],n=Y[s.conservationStatus],x=l.icon;return N==="list"?e.jsx(k,{className:"hover:shadow-lg transition-all duration-200 border-l-4 border-l-blue-500",children:e.jsx($,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsxs("div",{className:"relative",children:[s.photoUrl||s.imageUrl?e.jsx("img",{src:s.photoUrl||s.imageUrl,alt:s.commonName,className:"w-24 h-24 rounded-lg object-cover"}):e.jsx("div",{className:"w-24 h-24 rounded-lg bg-gray-200 flex items-center justify-center",children:e.jsx(x,{className:"h-8 w-8 text-gray-400"})}),s.isEndangered&&e.jsx("div",{className:"absolute -top-2 -right-2",children:e.jsx(u,{className:"h-6 w-6 text-red-500"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:s.commonName}),e.jsx("p",{className:"text-sm italic text-gray-600",children:s.scientificName}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Familia: ",s.family]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(r,{className:`${l.bg} ${l.text} ${l.border}`,children:s.category}),e.jsx(r,{className:`${n.bg} ${n.text}`,children:n.label})]})]}),s.description&&e.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4",children:[s.habitat&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx("span",{children:s.habitat})]}),s.diet&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{children:s.diet})]}),s.lifespan&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.lifespan," años"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2",children:[s.isNocturnal&&e.jsx(r,{variant:"outline",className:"text-xs",children:"Nocturno"}),s.isMigratory&&e.jsx(r,{variant:"outline",className:"text-xs",children:"Migratorio"})]}),e.jsx(E,{href:`/fauna/${s.id}`,children:e.jsxs(i,{size:"sm",variant:"outline",children:[e.jsx(F,{className:"h-4 w-4 mr-1"}),"Ver Detalles"]})})]})]})]})})}):e.jsxs(k,{className:"group hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsxs("div",{className:"relative",children:[s.photoUrl||s.imageUrl?e.jsx("img",{src:s.photoUrl||s.imageUrl,alt:s.commonName,className:"w-full h-48 object-cover rounded-t-lg"}):e.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-blue-100 to-green-100 rounded-t-lg flex items-center justify-center",children:e.jsx(x,{className:"h-16 w-16 text-gray-400"})}),s.isEndangered&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs(r,{className:"bg-red-500 text-white",children:[e.jsx(u,{className:"h-3 w-3 mr-1"}),"Protegida"]})}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx(r,{className:`${l.bg} ${l.text} ${l.border}`,children:s.category})})]}),e.jsxs($,{className:"p-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1 line-clamp-1",children:s.commonName}),e.jsx("p",{className:"text-sm italic text-gray-600 line-clamp-1",children:s.scientificName}),e.jsx("p",{className:"text-xs text-gray-500",children:s.family})]}),e.jsx("div",{className:"mb-3",children:e.jsx(r,{className:`${n.bg} ${n.text} text-xs`,children:n.label})}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:s.description}),e.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:e.jsxs("div",{className:"flex gap-2",children:[s.isNocturnal&&e.jsx(r,{variant:"outline",className:"text-xs",children:"Nocturno"}),s.isMigratory&&e.jsx(r,{variant:"outline",className:"text-xs",children:"Migratorio"})]})}),e.jsx(E,{href:`/fauna/${s.id}`,children:e.jsxs(i,{className:"w-full",size:"sm",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Ver Ficha Completa"]})})]})]})}function le(){const[s,N]=j.useState(""),[l,n]=j.useState("all"),[x,q]=j.useState("all"),[c,p]=j.useState("grid"),[h,o]=j.useState(1),v=c==="grid"?12:8,{data:d,isLoading:V}=A({queryKey:["/api/fauna/public/species",h,v,s,l,x],queryFn:async()=>{const a=new URLSearchParams({page:h.toString(),limit:v.toString(),search:s,category:l,conservation_status:x}),b=await fetch(`/api/fauna/public/species?${a}`);if(!b.ok)throw new Error("Error al cargar especies");return b.json()}}),g=(d==null?void 0:d.species)||[],m=(d==null?void 0:d.pagination)||{page:1,limit:v,total:0,totalPages:1};return e.jsx(K,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"relative h-96 overflow-hidden",children:[e.jsx("img",{src:"/images/fauna-hero.jpg",alt:"Fauna urbana en parques de Guadalajara",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[e.jsx(f,{className:"h-10 w-10"}),e.jsx("h1",{className:"font-guttery text-4xl md:text-5xl font-normal",children:"Descubre"})]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold",children:"Fauna Urbana"})]}),e.jsx("p",{className:"text-xl text-green-100 mb-8 max-w-2xl mx-auto",children:"Descubre la diversidad de vida silvestre que habita en nuestros parques urbanos de Guadalajara"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-green-100 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5"}),e.jsxs("span",{children:[m.total," especies"]})]}),e.jsx("div",{className:"hidden sm:block w-px h-6 bg-green-300"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),e.jsxs("span",{children:[g.filter(a=>a.conservationStatus==="estable").length," estables"]})]}),e.jsx("div",{className:"hidden sm:block w-px h-6 bg-green-300"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),e.jsxs("span",{children:[g.filter(a=>a.conservationStatus==="vulnerable"||a.conservationStatus==="en_peligro").length," vulnerables"]})]})]})]})})]}),e.jsx("section",{className:"py-6",style:{backgroundColor:"#19633c"},children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsxs("div",{className:"rounded-lg p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(z,{placeholder:"Buscar especies por nombre...",value:s,onChange:a=>{N(a.target.value),o(1)},className:"pl-10 bg-white"})]}),e.jsxs(y,{value:l,onValueChange:a=>{n(a),o(1)},children:[e.jsx(w,{className:"w-full sm:w-48 bg-white",children:e.jsx(C,{placeholder:"Categoría"})}),e.jsxs(S,{children:[e.jsx(t,{value:"all",children:"Todas las categorías"}),e.jsx(t,{value:"aves",children:"Aves"}),e.jsx(t,{value:"mamiferos",children:"Mamíferos"}),e.jsx(t,{value:"reptiles",children:"Reptiles"}),e.jsx(t,{value:"anfibios",children:"Anfibios"}),e.jsx(t,{value:"insectos",children:"Insectos"}),e.jsx(t,{value:"peces",children:"Peces"})]})]}),e.jsxs(y,{value:x,onValueChange:a=>{q(a),o(1)},children:[e.jsx(w,{className:"w-full sm:w-48 bg-white",children:e.jsx(C,{placeholder:"Conservación"})}),e.jsxs(S,{children:[e.jsx(t,{value:"all",children:"Todos los estados"}),e.jsx(t,{value:"estable",children:"Estable"}),e.jsx(t,{value:"vulnerable",children:"Vulnerable"}),e.jsx(t,{value:"en_peligro",children:"En Peligro"}),e.jsx(t,{value:"critico",children:"Crítico"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{variant:c==="grid"?"default":"outline",size:"sm",onClick:()=>p("grid"),className:c==="grid"?"bg-white text-green-800 hover:bg-gray-100":"border-white text-white hover:bg-white hover:text-green-800",children:e.jsx(_,{className:"h-4 w-4"})}),e.jsx(i,{variant:c==="list"?"default":"outline",size:"sm",onClick:()=>p("list"),className:c==="list"?"bg-white text-green-800 hover:bg-gray-100":"border-white text-white hover:bg-white hover:text-green-800",children:e.jsx(G,{className:"h-4 w-4"})})]})]}),e.jsxs("p",{className:"text-sm text-green-100",children:["Mostrando ",g.length," de ",m.total," especies"]})]})})}),e.jsx("section",{className:"py-12 bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:V?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):g.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(f,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No se encontraron especies"}),e.jsx("p",{className:"text-gray-600",children:"Intenta ajustar tus filtros de búsqueda"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`mb-8 ${c==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4"}`,children:g.map(a=>e.jsx(X,{species:a,viewMode:c},a.id))}),m.totalPages>1&&e.jsxs("div",{className:"flex justify-center items-center gap-2",children:[e.jsx(i,{variant:"outline",onClick:()=>o(a=>Math.max(1,a-1)),disabled:h===1,children:"Anterior"}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:m.totalPages},(a,b)=>b+1).map(a=>e.jsx(i,{variant:h===a?"default":"outline",size:"sm",onClick:()=>o(a),children:a},a))}),e.jsx(i,{variant:"outline",onClick:()=>o(a=>Math.min(m.totalPages,a+1)),disabled:h===m.totalPages,children:"Siguiente"})]})]})})}),e.jsx("section",{className:"py-12 bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-green-600 rounded-lg p-8 text-white text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"¿Observaste alguna especie interesante?"}),e.jsx("p",{className:"text-blue-100 mb-6",children:"Ayúdanos a documentar la biodiversidad urbana reportando tus avistamientos"}),e.jsxs(i,{variant:"secondary",size:"lg",className:"bg-white text-blue-600 hover:bg-blue-50",children:[e.jsx(u,{className:"h-5 w-5 mr-2"}),"Reportar Avistamiento"]})]})})}),e.jsx("section",{className:"py-12 bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsx(I,{spaceId:"37",position:"banner",pageType:"fauna"})})}),e.jsx("section",{className:"py-12 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"¿Necesitas más información?"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Nuestro equipo está aquí para ayudarte"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#51a19f"},children:e.jsx(R,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Teléfono"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"(33) 1234-5678"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Lun-Vie 8:00-16:00"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#51a19f"},children:e.jsx(P,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Correo"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"fauna@parques.gdl.gob.mx"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Respuesta en 24 horas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#51a19f"},children:e.jsx(U,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ubicación"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Av. Hidalgo 400, Centro"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Guadalajara, Jalisco"})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs(i,{size:"lg",className:"bg-green-600 hover:bg-green-700 px-8 py-3",children:[e.jsx(P,{className:"h-5 w-5 mr-2"}),"Enviar mensaje"]})})]})})]})})}export{le as default};
